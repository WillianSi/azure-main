{"ast":null,"code":"// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\nimport { HttpHeaders } from \"../httpHeaders\";\nimport { Constants } from \"../util/constants\";\nvar HeaderConstants = Constants.HeaderConstants;\nvar DEFAULT_AUTHORIZATION_SCHEME = \"Bearer\";\n/**\n * A credentials object that uses a token string and a authorzation scheme to authenticate.\n */\nvar TokenCredentials = /** @class */function () {\n  /**\n   * Creates a new TokenCredentials object.\n   *\n   * @constructor\n   * @param {string} token The token.\n   * @param {string} [authorizationScheme] The authorization scheme.\n   */\n  function TokenCredentials(token, authorizationScheme) {\n    if (authorizationScheme === void 0) {\n      authorizationScheme = DEFAULT_AUTHORIZATION_SCHEME;\n    }\n    this.authorizationScheme = DEFAULT_AUTHORIZATION_SCHEME;\n    if (!token) {\n      throw new Error(\"token cannot be null or undefined.\");\n    }\n    this.token = token;\n    this.authorizationScheme = authorizationScheme;\n  }\n  /**\n   * Signs a request with the Authentication header.\n   *\n   * @param {WebResourceLike} webResource The WebResourceLike to be signed.\n   * @return {Promise<WebResourceLike>} The signed request object.\n   */\n  TokenCredentials.prototype.signRequest = function (webResource) {\n    if (!webResource.headers) webResource.headers = new HttpHeaders();\n    webResource.headers.set(HeaderConstants.AUTHORIZATION, this.authorizationScheme + \" \" + this.token);\n    return Promise.resolve(webResource);\n  };\n  return TokenCredentials;\n}();\nexport { TokenCredentials };","map":{"version":3,"mappings":"AAAA;AACA;AAEA,SAASA,WAAW,QAAQ,gBAAgB;AAC5C,SAASC,SAAS,QAAQ,mBAAmB;AAI7C,IAAMC,eAAe,GAAGD,SAAS,CAACC,eAAe;AACjD,IAAMC,4BAA4B,GAAG,QAAQ;AAE7C;;;AAGA;EAIE;;;;;;;EAOA,0BAAYC,KAAa,EAAEC,mBAA0D;IAA1D;MAAAA,kDAA0D;IAAA;IATrF,wBAAmB,GAAWF,4BAA4B;IAUxD,IAAI,CAACC,KAAK,EAAE;MACV,MAAM,IAAIE,KAAK,CAAC,oCAAoC,CAAC;;IAEvD,IAAI,CAACF,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACC,mBAAmB,GAAGA,mBAAmB;EAChD;EAEA;;;;;;EAMAE,sCAAW,GAAX,UAAYC,WAA4B;IACtC,IAAI,CAACA,WAAW,CAACC,OAAO,EAAED,WAAW,CAACC,OAAO,GAAG,IAAIT,WAAW,EAAE;IACjEQ,WAAW,CAACC,OAAO,CAACC,GAAG,CACrBR,eAAe,CAACS,aAAa,EAC1B,IAAI,CAACN,mBAAmB,SAAI,IAAI,CAACD,KAAO,CAC5C;IACD,OAAOQ,OAAO,CAACC,OAAO,CAACL,WAAW,CAAC;EACrC,CAAC;EACH,uBAAC;AAAD,CAAC,EAjCD","names":["HttpHeaders","Constants","HeaderConstants","DEFAULT_AUTHORIZATION_SCHEME","token","authorizationScheme","Error","TokenCredentials","webResource","headers","set","AUTHORIZATION","Promise","resolve"],"sources":["C:\\Users\\willi\\Downloads\\azure-main\\node_modules\\@azure\\ms-rest-js\\lib\\credentials\\tokenCredentials.ts"],"sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\n\nimport { HttpHeaders } from \"../httpHeaders\";\nimport { Constants } from \"../util/constants\";\nimport { WebResourceLike } from \"../webResource\";\nimport { ServiceClientCredentials } from \"./serviceClientCredentials\";\n\nconst HeaderConstants = Constants.HeaderConstants;\nconst DEFAULT_AUTHORIZATION_SCHEME = \"Bearer\";\n\n/**\n * A credentials object that uses a token string and a authorzation scheme to authenticate.\n */\nexport class TokenCredentials implements ServiceClientCredentials {\n  token: string;\n  authorizationScheme: string = DEFAULT_AUTHORIZATION_SCHEME;\n\n  /**\n   * Creates a new TokenCredentials object.\n   *\n   * @constructor\n   * @param {string} token The token.\n   * @param {string} [authorizationScheme] The authorization scheme.\n   */\n  constructor(token: string, authorizationScheme: string = DEFAULT_AUTHORIZATION_SCHEME) {\n    if (!token) {\n      throw new Error(\"token cannot be null or undefined.\");\n    }\n    this.token = token;\n    this.authorizationScheme = authorizationScheme;\n  }\n\n  /**\n   * Signs a request with the Authentication header.\n   *\n   * @param {WebResourceLike} webResource The WebResourceLike to be signed.\n   * @return {Promise<WebResourceLike>} The signed request object.\n   */\n  signRequest(webResource: WebResourceLike) {\n    if (!webResource.headers) webResource.headers = new HttpHeaders();\n    webResource.headers.set(\n      HeaderConstants.AUTHORIZATION,\n      `${this.authorizationScheme} ${this.token}`\n    );\n    return Promise.resolve(webResource);\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}